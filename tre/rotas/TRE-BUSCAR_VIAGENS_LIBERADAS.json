{
  "tabela": {
    "nome": "PCINTEGRACAOROTASERVICO",
    "campos": [
      {
        "nome": "ID",
        "valor": "TRE-BUSCAR_VIAGENS_LIBERADAS"
      },
      {
        "nome": "IDEMPRESAAPI",
        "valor": "TRE"
      },
      {
        "nome": "SERVICO",
        "valor": "TRE-BUSCAR_VIAGENS_LIBERADAS"
      },
      {
        "nome": "LAYOUTCOMUNICACAO",
        "valor": {
          "urlWsdl": "https://winthorqa.cloudneolog.com.br/cockpit-gateway/integration/services/retrieve/RetrieveReleasedTripServiceRequest",
          "header": [
            {
              "key": "userToken",
              "value": "{{TOKEN}}"
            }
          ],
          "operacao": {
            "request": "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHNvYXBlbnY6RW52ZWxvcGUgeG1sbnM6c29hcGVudj0iaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvc29hcC9lbnZlbG9wZS8iIHhtbG5zOnRucz0idXJuOm5lb2xvZzpjb2NrcGl0OlJldHJpZXZlVHJpcFJlbGVhc2VSZXF1ZXN0UHVibGlzaGluZ1NlcnZpY2UiIHhtbG5zOnhzZD0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEiPgogIDxzb2FwZW52OkhlYWRlci8+CiAgPHNvYXBlbnY6Qm9keT4KICAgIDx0bnM6cHVibGlzaFJldHJpZXZlUmVsZWFzZWRUcmlwUmVxdWVzdD4KICAgICAgPHJlZ2lvblNvdXJjZUlkPnt7UkVHSU9OX1NPVVJDRV9JRH19PC9yZWdpb25Tb3VyY2VJZD4KICAgIDwvdG5zOnB1Ymxpc2hSZXRyaWV2ZVJlbGVhc2VkVHJpcFJlcXVlc3Q+CiAgPC9zb2FwZW52OkJvZHk+Cjwvc29hcGVudjpFbnZlbG9wZT4\u003d"
          }
        }
      },
      {
        "nome": "LAYOUTTRANSFORMACAO",
        "valor": [
          {
            "operation": "modify-overwrite-beta",
            "spec": {
              "soap:Body": {
                "ns2:publishRetrieveReleasedTripResponse": {
                  "publishReleasedTrips": {
                    "publishReleasedTrip": {
                      "tripReleaseRequests": {
                        "tripReleaseRequest": "\u003dtoList(@(1,tripReleaseRequest))"
                      }
                    }
                  }
                }
              }
            }
          },
          {
            "operation": "shift",
            "spec": {
              "soap:Body": {
                "ns2:publishRetrieveReleasedTripResponse": {
                  "publishReleasedTrips": {
                    "publishReleasedTrip": {
                      "messageId": "idMensagem",
                      "tripReleaseRequests": {
                        "tripReleaseRequest": {
                          "*": {
                            "identifier": "items.[\u00261].idViagem",
                            "loads": {
                              "load": {
                                "identifier": "items.[\u00263].numcarExterno",
                                "stops": {
                                  "stop": {
                                    "*": {
                                      "subStops": {
                                        "subStop": {
                                          "loadedShipmentUnits": {
                                            "shipmentUnit": {
                                              "*": {
                                                "deliveryUnitList": {
                                                  "deliveryUnit": {
                                                    "orderSourceId": "items.[\u002613].idsPedidos[]"
                                                  }
                                                }
                                              },
                                              "deliveryUnitList": {
                                                "deliveryUnit": {
                                                  "orderSourceId": "items.[\u002612].idsPedidos[]"
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          {
            "operation": "modify-overwrite-beta",
            "spec": {
              "items": {
                "*": {
                  "idMensagem": "\u003dconcat(\u0027\u0027, @(3,idMensagem))",
                  "idExterno": "\u003dconcat(\u0027SOAP-TRE-VIAGEM-LIBERADA-\u0027,@(1,idMensagem),\u0027-\u0027,@(1,idViagem),\u0027-\u0027,@(1,numcarExterno))",
                  "idInterno": "\u003dconcat(\u0027\u0027, @(1,idMensagem))",
                  "tipoIdInterno": "TRE-VIAGEM-LIBERADA"
                }
              }
            }
          },
          {
            "operation": "shift",
            "spec": {
              "items": {
                "*": {
                  "idExterno": "idExterno[]",
                  "idInterno": "idInterno",
                  "tipoIdInterno": "tipoIdInterno",
                  "idMensagem": "data.[\u00261].idMensagem",
                  "idsPedidos": "data.[\u00261].idsPedidos",
                  "idViagem": "data.[\u00261].idViagem",
                  "numcarExterno": "data.[\u00261].numcarExterno"
                }
              }
            }
          },
          {
            "operation": "default",
            "spec": {
              "_attr_access": "data"
            }
          }
        ]
      },
      {
        "nome": "ATIVO",
        "valor": "S"
      },
      {
        "nome": "TIPOPROCESSO",
        "valor": "BUSCAR"
      },
      {
        "nome": "AUTENTICADOR",
        "valor": "N"
      },
      {
        "nome": "DATASINCRONISMO",
        "valor": ""
      },
      {
        "nome": "REFRESHTOKEN",
        "valor": "N"
      },
      {
        "nome": "SOMENTEATUALIZARINTEGRACAOCORE",
        "valor": "N"
      },
      {
        "nome": "ARQUITETURA",
        "valor": "XML"
      }
    ]
  }
}